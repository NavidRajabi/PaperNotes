<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
</head>
<body>
<h1 id="content-based-image-retrieval-system">Content-Based Image Retrieval System</h1>
<p>多媒体数据主要有：文本数据和视频数据。文本数据指的是半结构化的数据包含了容易识别的部分：头，段落和章节。视觉数据则是图像存储在数据库中的表示。</p>
<p>文本检索可以通过字符串匹配来得到，通常的是通过布尔匹配。传统图像检索有以下几种：最开始是基于文字的，也就是每一幅图像有对应文字. 基于关键字.　但是这种传统方式有些问题：（１）获得大量标注的图像是耗时昂贵的（２）很难用有限的关键字来表示所有的信息，如何联系文字和图像也是问题。</p>
<p>所以，总的来说。基于图像检索有２个主要问题：图像表示，距离计算。</p>
<h2 id="基于内容的图像检索content-based-image-retrieval">基于内容的图像检索（Content-Based Image Retrieval）</h2>
<p>传统的图像检索过程，<font style="color:red">先通过人工对图像进行文字标注，再利用关键字来检索图像</font>，这种依据图像描述的字符匹配程度提供检索结果的方法，简称“<font style="color:red">以字找图”</font>，既耗时又主观多义。基于内容的图像检索客服“以字找图”方式的不足，直接从待查找的图像视觉特征出发，在图像库（查找范围）中找出与之相似的图像，这种<font style="color:red">依据视觉相似程度给出图像检索结果的方式，简称“以图找图”</font>。基于内容的图像检索分为三个层次：</br> （1）依据提取<font style="color:red">图像本身的颜色、形状、纹理等低层特征</font>进行检索； （2）基于图像的低层特征，通过识别图像中的<font style="color:red">对象类别以及对象之间的空间拓扑关系</font>进行检索； （3）基于<font style="color:red">图像抽象属性（场景语义、行为语义、情感语义等）的推理学习</font>进行检索；</p>
<p>基于内容的图像检索技术研究的热点可以分为4个方面： 1. 最初的图像检索研究主要集中在<font style="color:red">如何选择合适的全局特征去描述图像内容</font>和<font style="color:red">采用什么样的相似性度量方法</font>进行图像匹配。 2. 第二个研究热点是<font style="color:red">基于区域的图像检索方法</font>，其主要思想是<font style="color:red">图像分割技术提取出图像中的物体</font>，然后对每个区域<font style="color:red">使用局部特征来描述</font>，综合每个区域特征可以得到图像的特征描述。这两个研究方向都是以图像为中心，对于用于的需求缺乏分析。 3. 第三个研究热点就是针对这一问题而展开的，借助相关的反馈的思想，根据<font style="color:red">用户的需求及时调整系统检索时用的特征和相似性度量方法</font>，从而缩小低层特征和高层语义之间的差距。 4. 第四个研究热点是研究如何从<font style="color:red">多种渠道获取图像语义信息</font>，如何将图像底层特征与图像关键词结合进行图像自动标注以提高检索准确率等。</p>
<p>根据一般图像检索的工作原理可以知道，<font style="color:red">基于特征的图像检索有3个关键</font>： （1）选取<font style="color:red">恰当的图像特征</font>； （2）采取<font style="color:red">有效的特征提取方法</font>； （3）准确的<font style="color:red">特征匹配算法</font>；</p>
<p>利用各种特征对图像检索已经取得了相当的发展，大量的检索实验可以表明，综合特征检索要比单一特征检索更符合人类的视觉感受要求，检索效果会更好，但如何去找到合适的权值将多个特征组合起来是非常困难的。目前在CBIR中最常用的特征一般有：<font style="color:red">颜色特征、形状特征和纹理特征</font>。</p>
<p>颜色是图像检索中最先被采用的特征，主要方法有：</br> （1）颜色<font style="color:red">直方图</font> （2）颜色一致性矢量（CCV，color coherence vectors） （3）颜色相关图 （4）颜色矩, 颜色矩是一种简单而有有效的颜色表示，它的数学基础是：任何图像的颜色分布都可以通过其各阶矩来表示。然而，颜色分布的大部分信息都集中在它的低阶矩上，所以可以用颜色的一阶矩（均值）、二阶矩（方差）和三阶矩（偏度）来近似估计图像的总体颜色分布。</p>
<p>颜色聚合矢量（CCV, Color Coherence Vector）是图像直方图的一种演变，其核心思想是当图像中颜色相似的像素所占据的连续区域的面积大于一定的阈值时，该区域中的像素为聚合像素，否则为非聚合像素。这样统计图像所包含的每种颜色的聚合像素和非聚合像素的比率称之为该图像的颜色聚合矢量，在图像检索过程中匹配目标图像的聚合矢量和检索图像的聚合矢量，聚合矢量中的聚合信息在某种程度上保留了图像颜色的空间信息。由于加入了空间信息，采用颜色聚合矢量CCV比采用颜色直方图检索的效果要好，特别是对于大块的均匀区域或者图像中大部分为纹理的图像检索效果要更好，但同时也增加的计算量。</p>
<p>其中，<font style="color:red">颜色直方图是最常用的，也是最基本的方法，但缺乏图像的空间信息</font>；而CCV方法不仅统计了整幅图像中各颜色的像素值，还<font style="color:red">统计了图像中各颜色最大区域的像素值</font>，效果较好，但CCV并<font style="color:red">没有强调各颜色最大区域的形状以及与背景的关系</font>。因此，有人又考虑了<font style="color:red">图像的边缘信息</font>，提出了CCV-TEV(threshold edge vector)算法；颜色相关图法强调同一颜色在图像中的空间距离相关性，其检索效果比上述几个方法都要好，但计算量比较大。颜色矩算法主要采用图像中各颜色的均值和方差作比较，处理简单，可以用它作为图像检索的初检，为下一步的细检缩小搜索范围。</p>
<p><font style="color:red">形状是物体的一个重要特征，但由于物体形状的自动获取很困难</font>，基于形状的检索一般仅限于非常容易识别的物体。形状可以用面积、离心率、圆形度、形状度、曲率、分形维等全局和局部特征来表示。其主要的分析方法有不变矩、Fourier描述符、自回归模型、向心链码、CSS(Curvature Scale Space), VSW(Variable Scale Wavelet)等；基于向心链码的方法即具有形状的编码能力又同时支持检索，它首先采用向心链码对形状进行编码，再在编码码流中直接提取形状的“相对凸数”及“凸度”，以此作为形状检索的依据。由于形状的向心链码具有旋转、平移、尺度的不变性，因此这种检索算法具有一定的抗“相似性形变”能力。</p>
<p><font style="color:red">纹理是图像中一种重要而又难以描述的特征，航空、遥感图片、织物图案、复杂的自然风景以及动物植物等都含有纹理</font>。通常来讲，把图像中局部不规则，而宏观有规律的特性称之为为了。以纹理特性为主导的图像称之为纹理图像，以纹理特征为主导的区域称之为纹理区域。 纹理是图像的一个重要特征，一般认为纹理就是纹理元素有规律的排列组合，而把具有重复性、形状简单、强度一致的区域看做纹理元素。视觉纹理特征主要有：粗糙度、对比度、方向度、线象度、规整度、粗略度等。图像检索用到的纹理特征表示方法主要有：Tamura法（反映了粗糙度、对比度、方向度等）、MRSAR(multi-resolution simultaneous auto regressive model)、canny角直方图法、gabor法、塔式小波变换(PWT, pyramid wavelet transform)，树式小波变换（TWT, tree wavelet transform）等.</p>
<p>近20年来，计算机与信号处理领域如火如荼地发展着，随着普通计算机的性能不断地提高，人们对计算机处理信息的能力及要求不断地提高。传统的基于文本检索技术已经难以满足人们的需求，图片作为人们对周围世界的感知媒介，以图片为基本输入，从网络海量数据库中检索所需的信息已具有了强大的研究价值和商业应用。“有图有真相”和“一图胜过千言万语”已不再是虚夸,以图像为主的多媒体信息迅速成为交流与服务的主流，研究学者们很早就对如何有效地组织和管理图像信息进行了研究，逐步形成了基于内容的图像检索的新研究方向。基于内容的图像检索（CBIR：Content-Based Image Retrieval ）是指根据图像对象的内容及上下文信息在大规模多媒体数据中检索所需信息。本文将对基于内容的图像检索技术做一个简单的介绍，有兴趣的可以参考文中给出的参考资料。</p>
<p>下图是一个典型的基于内容的图像检索系统的结构图，一般由用户界面、 检索系统和存储系统几个部分组成，图像存储和图像检索是系统的核心部分，也是近年来这一领域的研究重点。</p>
<center>
<img src="http://img.blog.csdn.net/20130912190328015?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQva2V6dW5oYWk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="Test Image" width="400"/>
</center>
<p></br></p>
<p>常用于内容检索的图像特征有图像的颜色、纹理、形状、边缘以及语义特征。其中，颜色，纹理，形状，图像边缘特征，是基于人的视觉原理，而语义特征是基于用户查询中对于图像内容的描述。颜色特征主要包括颜色直方图、颜色矩等，颜色特征是一种全局特征，它描述了图像或图像某个区域所对应的景物的表面性质；纹理特征是一种统计特征，它需要在包含多个像素点的区域中进行统计计算，纹理特征常具有旋转不变性，并且对噪声有较强的抵抗能力。主要包括粗糙性、方向性、对比性等。纹理特征描述方法大致可分为四类：统计法、结构法、模型法、频谱法等；形状特征是物体自身的一个重要特征，一般来说一个物体可以有不同的颜色，但它的形状不会有很大差别。形状描述方法主要有两类：基于边缘和基于区域的形状方法，基于边缘的形状特征提取用面积、周长、偏心率、角点、链码、兴趣点、傅里叶描述子、矩描述子等特征来描述物体的形状，适用于图像边缘较为清晰、容易获取的图像；基于区域的形状特征提取的主要思路是通过图像分割技术提取出图像中感兴趣的物体，依靠区域内像素的颜色分布信息提取图像特征，适合于区域能够较为准确地分割出来、区域内颜色分布较为均匀的图像。</p>
<h2 id="cbir---特征提取">CBIR - 特征提取</h2>
<p>何为特征？特征是通过图像分析算法从原始图像种提取出来的属性，这些属性可以用来组成数据库。特征的主要目的是去除图像间冗余数据，降低维度，获得更具有区分度的表示。所以一个适合的特征有如下的性质： - 小的类内距离：也就是类内部具有相似的属性 - 大的类间距离：不同类应该具有足够的区分 - 和形状、方向、大小无关</p>
<h3 id="特征空间的操作">特征空间的操作</h3>
<ul>
<li><font style="color:red">找到边界</font>: user provides a number of examples of images of the same object and queries “show the part of the feature space that covers all these instances”. Additional queries can then be framed such as what other objects (in the image database) belong to this region.</li>
<li><font style="color:red">通过空间约束选择</font>: useful in GIS where there are only 2 or 3 dimensions to consider. Then user can specify a range (1-D) or a rectangle (2-D).</li>
<li><font style="color:red">通过距离选择</font>: User presents a query by picking a feature point in the space and a range around the point.</li>
<li><font style="color:red">K-NN</font>: one of the most popular type of query in query-by-example systems. The operation finds the k-nearest points in the feature space, often ranking them in the order of distance. (usefulness of this method drops when the feature space is sparse because the nearest neighbor may be very different from the query example.</li>
<li><font style="color:red">Aggregation</font>: Aggregate operations can be carried out on the groups to provide information about count, mean, standard deviation and cluster diameter.</li>
<li><font style="color:red">Partition Space</font>: This is useful as it divides the space into regions. These are often described as clusters. There are several different ways of partitioning the data.</li>
</ul>
<p>颜色直方图是在许多图像检索系统中被广泛采用的颜色特征。它所描述的是<font style="color:red">不同色彩在整幅图像中所占的比例</font>，而并不关心<font style="color:red">每种色彩所处的空间位置</font>，即无法描述图像中的对象或物体。颜色直方图<font style="color:red">特别适于描述那些难以进行自动分割的图像</font>。</p>
<p>当然，颜色直方图可以是<font style="color:red">基于不同的颜色空间和坐标系</font>。最常用的颜色空间是RGB颜色空间，原因在于大部分的数字图像都是用这种颜色空间表达的。然而，RGB 空间结构并不符合人们对颜色相似性的主观判断。因此，有人提出了基于HSV空间、Luv空间和Lab空间的颜色直方图，因为它们更接近于人们对颜色的主观 认识。其中HSV空间是直方图最常用的颜色空间。它的三个分量分别代表色彩（Hue）、饱和度（Saturation）和值（Value）。</p>
<p>计算颜色直方图需要将<font style="color:red">颜色空间划分成若干个小的颜色区间</font>，每个小区间成为 直方图的一个bin。这个过程称为<font style="color:red">颜色量化（color quantization）</font>。然后，通过<font style="color:red">计算颜色落在每个小区间内的像素数量可以得到颜色直方图</font>。颜色量化有许多方法，例如向量量化、聚类方法或者神经网 络方法。最为常用的做法是<font style="color:red">将颜色空间的各个分量（维度）均匀地进行划分</font>。相比之下，<font style="color:red">聚类算法则会考虑到图像颜色特征在整个空间中的分布情况，从而避免出现 某些bin中的像素数量非常稀疏的情况</font>,使量化更为有效。另外，如果图像是RGB格式而直方图是HSV空间中的，我们可以预先建立从量化的RGB空间到量 化的HSV空间之间的查找表（look-up table），从而加快直方图的计算过程。</p>
<p>上述的颜色量化方法会产生一定的问题。设想<font style="color:red">两幅图像的颜 色直方图几乎相同，只是互相错开了一个bin，这时如果我们采用L1距离或者欧拉距离计算两者的相似度，会得到很小的相似度值</font>。为了克 服这个缺陷，需要考虑到<font style="color:red">相似但不相同的颜色之间的相似度</font>。一种方法是采用二次式距离。另一种方法是<font style="color:red">对颜色直方图事先进行平滑过 滤，即每个bin中的像素对于相邻的几个bin也有贡献</font>。这样，相似但不相同颜色之间的相似度对直方图的相似度也有所贡献。</p>
<p>选择<font style="color:red">合适的颜色小区间 （即直方图的bin）数目和颜色量化方法与具体应用的性能和效率要求有关</font>。一般来说，颜色<font style="color:red">小区间的数目越多</font>，直方图对颜色的分辨能力就越强。然而，bin 的数目很大的颜色直方图不但会增加计算负担，也不利于在大型图像库中建立索引。而且对于某些应用来说，使用<font style="color:red">非常精细的颜色空间划分方法不一定能够提高检索 效果</font>，特别是对于不能容忍对相关图像错漏的那些应用。另一种有效减少直方图bin的数目的办法是<font style="color:red">只选用那些数值最大（即像素数目最多）的 bin来 构造图像特征</font>，因为这些表示主要颜色的bin能够表达图像中<font style="color:red">大部分像素的颜色</font>。实验证明这种方法并不会降低颜色直方图的检索效果。事实上，由于忽略了那些 数值较小的bin，颜色直方图对噪声的敏感程度降低了，有时会使检索效果更好。</p>
</body>
</html>
